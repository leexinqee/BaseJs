function Base(e){if(this.elements=[],"string"==typeof e)if(-1!=e.indexOf(" ")){for(var t=e.split(" "),s=[],n=[],r=0;r<t.length;r++)switch(0==n.length&&n.push(document),t[r].charAt(0)){case"#":s=[],s.push(this.getId(t[r].substring(1))),n=s;break;case".":s=[];for(var i=0;i<n.length;i++)for(var o=this.getClass(t[r].substring(1),n[i]),l=0;l<o.length;l++)s.push(o[l]);n=s;break;default:s=[];for(var i=0;i<n.length;i++)for(var o=this.getTag(t[r],n[i]),l=0;l<o.length;l++)s.push(o[l]);n=s}this.elements=s}else switch(e.charAt(0)){case"#":this.elements.push(this.getId(e.substring(1)));break;case".":this.elements=this.getClass(e.substring(1));break;default:this.elements=this.getTag(e)}else"object"==typeof e?void 0!=e&&(this.elements[0]=e):"function"==typeof e&&this.ready(e)}function scrollTop(){document.documentElement.scrollTop=0,document.body.scrollTop=0}var $=function(e){return new Base(e)};Base.prototype.ready=function(e){addDomLoaded(e)},Base.prototype.find=function(e){for(var t=[],s=0;s<this.elements.length;s++)switch(e.charAt(0)){case"#":t.push(this.getId(e.substring(1)));break;case".":for(var n=this.getClass(e.substring(1),this.elements[s]),r=0;r<n.length;r++)t.push(n[r]);break;default:for(var n=this.getTag(e,this.elements[s]),r=0;r<n.length;r++)t.push(n[r])}return this.elements=t,this},Base.prototype.getId=function(e){return document.getElementById(e)},Base.prototype.getTag=function(e,t){var s=null,n=[];s=void 0!=t?t:document;for(var r=s.getElementsByTagName(e),i=0;i<r.length;i++)n.push(r[i]);return r},Base.prototype.getName=function(e){for(var t=document.getElementsByName(e),s=0;s<t.length;s++)this.elements.push(t[s]);return this},Base.prototype.getClass=function(e,t){var s=null,n=[];s=void 0!=t?t:document;for(var r=s.getElementsByTagName("*"),i=0;i<r.length;i++)r[i].className==e&&n.push(r[i]);return n},Base.prototype.addClass=function(e){for(var t=0;t<this.elements.length;t++)hasClass(this.elements[t],e)||(this.elements[t].className+=" "+e);return this},Base.prototype.removeClass=function(e){for(var t=0;t<this.elements.length;t++)hasClass(this.elements[t],e)&&(this.elements[t].className=this.elements[t].className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "));return this},Base.prototype.getE=function(e){return this.elements[e]},Base.prototype.first=function(){return this.elements[0]},Base.prototype.last=function(){var e=this.elements.length;return this.elements[e-1]},Base.prototype.eq=function(e){var t=this.elements[e];return this.elements=[],this.elements[0]=t,this},Base.prototype.next=function(){for(var e=0;e<this.elements.length;e++){if(this.elements[e]=this.elements[e].nextSibling,null==this.elements[e])throw new Error("找不到下一个同级元素节点！");3==this.elements[e].nodeType&&this.next()}return this},Base.prototype.prev=function(){for(var e=0;e<this.elements.length;e++){if(this.elements[e]=this.elements[e].previousSibling,null==this.elements[e])throw new Error("找不到上一个同级元素节点！");3==this.elements[e].nodeType&&this.prev()}return this},Base.prototype.toggle=function(){for(var e=0;e<this.elements.length;e++)!function(e,t){var s=0;addEvent(e,"click",function(){t[s++%t.length].call(e)})}(this.elements[e],arguments);return this},Base.prototype.css=function(e,t){for(var s=0;s<this.elements.length;s++){if(1==arguments.length)return getStyle(this.elements[s],e);this.elements[s].style[e]=t}return this},Base.prototype.html=function(e){for(var t=0;t<this.elements.length;t++){if(0==arguments.length)return this.elements[t].innerHTML;this.elements[t].innerHTML=e}return this},Base.prototype.click=function(e){for(var t=0;t<this.elements.length;t++)this.elements[t].onclick=e;return this},Base.prototype.hover=function(e,t){for(var s=0;s<this.elements.length;s++)addEvent(this.elements[s],"mouseover",e),addEvent(this.elements[s],"mouseout",t);return this},Base.prototype.show=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].style.display="block";return this},Base.prototype.hide=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].style.display="none";return this},Base.prototype.center=function(e,t){for(var s=(getInner().width-e)/2,n=(getInner().height-t)/2,r=0;r<this.elements.length;r++)this.elements[r].style.top=n+"px",this.elements[r].style.left=s+"px";return this},Base.prototype.resize=function(e){for(var t=0;t<this.elements.length;t++){var s=this.elements[t];window.onresize=function(){e(),s.offsetLeft>getInner().width-s.offsetWidth&&(s.style.left=getInner().width-s.offsetWidth+"px"),s.offsetTop>getInner().height-s.offsetHeight&&(s.style.top=getInner().height-s.offsetHeight+"px")}}return this},Base.prototype.lock=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].style.width=getInner().width+"px",this.elements[e].style.height=getInner().height+"px",this.elements[e].style.display="block",document.documentElement.overflow="hidden",addEvent(window,"scroll",scrollTop);return this},Base.prototype.unlock=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].style.display="none",document.documentElement.overflow="auto",removeEvent(window,"scroll",scrollTop);return this},Base.prototype.bind=function(e,t){for(var s=0;s<this.elements.length;s++)addEvent(this.elements[s],e,t);return this},Base.prototype.form=function(e){for(var t=0;t<this.elements.length;t++)this.elements[t]=this.elements[t][e];return this},Base.prototype.val=function(e){for(var t=0;t<this.elements.length;t++){if(0==arguments.length)return this.elements[t].value;this.elements[t].value=e}return this},Base.prototype.extend=function(e,t){Base.prototype[e]=t},Base.prototype.animate=function(e){function t(){r.style.filter="alpha(opacity="+u+")",r.style.opacity=u/100}function s(){r.style[i]=u+"px"}for(var n=0;n<this.elements.length;n++){var r=this.elements[n],i="x"==e.attr?"left":"y"==e.attr?"top":"w"==e.attr?"width":"h"==e.attr?"height":"o"==e.attr?"opacity":void 0!=e.attr?e.attr:"left",o=void 0!=e.start?e.start:"opacity"==i?100*parseFloat(getStyle(r,i)):parseInt(getStyle(r,i)),l=void 0!=e.time?e.time:30,a=void 0!=e.step?e.step:10,h=void 0!=e.speed?e.speed:6,p=0==e.type?"constant":1==e.type?"buffer":"constant",f=e.alter,u=e.target,m=e.mul;if(void 0!=f&&void 0==u)u=o+f;else if(void 0==f&&void 0==u&&void 0==m)throw new Error("alter增量或者target目标量必须至少传一个参数！");o>u&&(a=-a),"opacity"==i?(r.style.opacity=parseInt(o)/100,r.style.filter="alpha(opacity ="+parseInt(o)+")"):r.style[i]=o+"px",void 0==m&&(m={},m[i]=u),clearInterval(r.timer),r.timer=setInterval(function(){var n=!0;for(var o in m){if(i="x"==o?"left":"y"==o?"top":"w"==o?"width":"h"==o?"height":"o"==o?"opacity":void 0!=o?o:"left",u=m[o],"buffer"==p){var l="opacity"==i?u-parseFloat(100*getStyle(r,i)):u-parseInt(getStyle(r,i)),f=l/h;a=a>0?Math.ceil(f):Math.floor(f)}if("opacity"==i){if(0==a)t();else if(a>0&&Math.abs(f-u)<=a)t();else if(0>a&&f-u<=Math.abs(a))t();else{var f=100*parseFloat(getStyle(r,i));r.style.filter="alpha(opacity="+parseInt(f+a)+")",r.style.opacity=parseInt(f+a)/100}parseInt(u)!=parseInt(100*parseFloat(getStyle(r,i)))&&(n=!1)}else 0==a?s():a>0&&Math.abs(parseInt(getStyle(r,i))-u)<=a?s():0>a&&parseInt(getStyle(r,i))-u<=Math.abs(a)?s():r.style[i]=parseInt(getStyle(r,i))+a+"px",parseInt(u)!=parseInt(getStyle(r,i))&&(n=!1)}n&&(clearInterval(r.timer),void 0!=e.fn&&e.fn())},l)}return this};