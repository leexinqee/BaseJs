$().extend("drag",function(){for(var e=arguments,t=0;t<this.elements.length;t++)addEvent(this.elements[t],"mousedown",function(t){function n(e){var t=e.clientX-r,n=e.clientY-s;0>t?t=0:t>getInner().width-u.offsetWidth&&(t=getInner().width-u.offsetWidth),0>n?n=0:n>getInner().height-u.offsetHeight&&(n=getInner().height-u.offsetHeight),u.style.left=t+"px",u.style.top=n+"px","undefined"!=typeof u.setCapture&&u.setCapture()}function o(){removeEvent(document,"mousemove",n),removeEvent(document,"mouseup",o),"undefined"!=typeof u.releaseCapture&&u.releaseCapture()}0==trim(this.innerHTML).length&&t.preventDefault();for(var u=this,r=t.clientX-u.offsetLeft,s=t.clientY-u.offsetTop,f=!1,i=0;i<e.length;i++)if(t.target==e[i]){f=!0;break}f?(addEvent(document,"mousemove",n),addEvent(document,"mouseup",o)):(removeEvent(document,"mousemove",n),removeEvent(document,"mouseup",o))});return this});